<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–º–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ Pro</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üß†</text></svg>">
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="mainMenu" class="screen active">
            <div class="header">
                <div class="user-greeting">
                    <h1>üëã –ü—Ä–∏–≤–µ—Ç, <span id="userName">–ò–≥—Ä–æ–∫</span>!</h1>
                    <p>–ì–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–º—É –≤—ã–∑–æ–≤—É?</p>
                </div>
                
                <div class="daily-challenge" id="dailyChallenge">
                    <div class="challenge-header">üéØ –ó–∞–¥–∞–Ω–∏–µ –¥–Ω—è</div>
                    <div class="challenge-content">
                        <div class="challenge-text" id="challengeText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="challenge-progress">
                            <div class="progress-bar-small">
                                <div id="challengeProgress" class="progress-fill-small"></div>
                            </div>
                            <span id="challengeStatus">0/3</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-tabs">
                <button class="tab-btn active" onclick="showTab('categories')">üéÆ –ò–≥—Ä–∞—Ç—å</button>
                <button class="tab-btn" onclick="showTab('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
                <button class="tab-btn" onclick="showTab('leaderboard')">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ "–ò–≥—Ä–∞—Ç—å" -->
            <div id="categoriesTab" class="tab-content active">
                <div class="game-modes">
                    <h3>üéÆ –†–µ–∂–∏–º—ã –∏–≥—Ä—ã</h3>
                    <button class="mode-btn normal" onclick="selectGameMode('normal')">
                        <span class="mode-icon">‚ö°</span>
                        <div class="mode-info">
                            <h4>–û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º</h4>
                            <p>7 –≤–æ–ø—Ä–æ—Å–æ–≤, –≤—ã–±–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        </div>
                    </button>
                    <button class="mode-btn marathon" onclick="selectGameMode('marathon')">
                        <span class="mode-icon">üèÉ‚Äç‚ôÇÔ∏è</span>
                        <div class="mode-info">
                            <h4>–ú–∞—Ä–∞—Ñ–æ–Ω</h4>
                            <p>20 –≤–æ–ø—Ä–æ—Å–æ–≤, —Å–º–µ—à–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</p>
                        </div>
                    </button>
                </div>
                
                <div class="categories" id="categoriesContainer">
                    <h3>üìö –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ—Ñ–∏–ª—å" -->
            <div id="profileTab" class="tab-content">
                <div class="profile-header">
                    <div class="avatar">üë§</div>
                    <div class="profile-info">
                        <h3 id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                        <p id="profileStats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</p>
                    </div>
                </div>
                
                <div class="achievements-section">
                    <h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <div id="achievementsList" class="achievements-grid">
                        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <div class="stats-section">
                    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                    <div id="categoryStats" class="stats-grid">
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ "–†–µ–π—Ç–∏–Ω–≥" -->
            <div id="leaderboardTab" class="tab-content">
                <div class="leaderboard-filters">
                    <select id="leaderboardCategory" onchange="loadLeaderboard()">
                        <option value="overall">üåü –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥</option>
                        <option value="history">üèõ –ò—Å—Ç–æ—Ä–∏—è</option>
                        <option value="science">üî¨ –ù–∞—É–∫–∞</option>
                        <option value="geography">üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è</option>
                        <option value="sports">‚öΩ –°–ø–æ—Ä—Ç</option>
                        <option value="technology">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                        <option value="arts">üé® –ò—Å–∫—É—Å—Å—Ç–≤–æ</option>
                    </select>
                </div>
                
                <div id="leaderboardList" class="leaderboard-list">
                    <!-- –†–µ–π—Ç–∏–Ω–≥ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
        <div id="difficultyScreen" class="screen">
            <div class="difficulty-header">
                <h1>‚öôÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</h1>
                <p>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: <span id="selectedCategory">–ò—Å—Ç–æ—Ä–∏—è</span></p>
            </div>
            
            <div class="difficulty-options">
                <button class="difficulty-btn easy" onclick="startQuiz('easy')">
                    <div class="difficulty-icon">üü¢</div>
                    <div class="difficulty-info">
                        <h3>–õ–µ–≥–∫–∏–π</h3>
                        <p>–ë–∞–∑–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö</p>
                        <span class="points">+10 –æ—á–∫–æ–≤ –∑–∞ –æ—Ç–≤–µ—Ç</span>
                    </div>
                </button>
                
                <button class="difficulty-btn medium" onclick="startQuiz('medium')">
                    <div class="difficulty-icon">üü°</div>
                    <div class="difficulty-info">
                        <h3>–°—Ä–µ–¥–Ω–∏–π</h3>
                        <p>–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∑–Ω–∞—Ç–æ–∫–æ–≤</p>
                        <span class="points">+20 –æ—á–∫–æ–≤ –∑–∞ –æ—Ç–≤–µ—Ç</span>
                    </div>
                </button>
                
                <button class="difficulty-btn hard" onclick="startQuiz('hard')">
                    <div class="difficulty-icon">üî¥</div>
                    <div class="difficulty-info">
                        <h3>–°–ª–æ–∂–Ω—ã–π</h3>
                        <p>–¢–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤</p>
                        <span class="points">+30 –æ—á–∫–æ–≤ –∑–∞ –æ—Ç–≤–µ—Ç</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π) -->
        <div id="quizScreen" class="screen">
            <div class="quiz-header-enhanced">
                <div class="quiz-top-info">
                    <div class="quiz-progress-info">
                        <span id="questionNumber">1/7</span>
                        <span id="currentCategory">üèõ –ò—Å—Ç–æ—Ä–∏—è</span>
                        <span id="currentDifficulty">üü¢ –õ–µ–≥–∫–∏–π</span>
                    </div>
                    <div class="quiz-score-info">
                        <span id="score">–°—á–µ—Ç: 0</span>
                        <span id="timer">‚è± --:--</span>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div id="progress" class="progress-fill"></div>
                </div>
                
                <div class="hints-panel">
                    <button id="hint5050" class="hint-btn" onclick="useHint('5050')" title="50/50">
                        üîÑ 50/50
                    </button>
                    <button id="hintSkip" class="hint-btn" onclick="useHint('skip')" title="–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å">
                        ‚è≠ –ü—Ä–æ–ø—É—Å–∫
                    </button>
                    <span class="hints-count">–ü–æ–¥—Å–∫–∞–∑–∫–∏: <span id="hintsLeft">2</span></span>
                </div>
            </div>
            
            <div class="question-container-enhanced">
                <h2 id="questionText">–í–æ–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</h2>
                <div id="answers" class="answers">
                    <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <div id="explanation" class="explanation" style="display: none;">
                    <h4>üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:</h4>
                    <p id="explanationText"></p>
                </div>
            </div>
            
            <button id="nextBtn" class="next-btn-enhanced" onclick="nextQuestion()" style="display: none;">
                –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚û°Ô∏è
            </button>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π) -->
        <div id="resultsScreen" class="screen">
            <div class="results-header-enhanced">
                <h1>üéØ –û—Ç–ª–∏—á–Ω–∞—è –∏–≥—Ä–∞!</h1>
                <div class="player-name">
                    <span id="resultsPlayerName">–ò–≥—Ä–æ–∫</span>
                </div>
            </div>
            
            <div class="result-card-enhanced">
                <div class="result-main">
                    <div class="result-score">
                        <div id="finalScore" class="final-score">0/7</div>
                        <div id="finalPercentage" class="final-percentage">0%</div>
                    </div>
                    
                    <div class="result-details">
                        <div class="detail-item">
                            <span class="detail-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                            <span id="resultCategory">üèõ –ò—Å—Ç–æ—Ä–∏—è</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</span>
                            <span id="resultDifficulty">üü¢ –õ–µ–≥–∫–∏–π</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–í—Ä–µ–º—è:</span>
                            <span id="resultTime">2:15</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–ü–æ–¥—Å–∫–∞–∑–∫–∏:</span>
                            <span id="resultHints">1 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ</span>
                        </div>
                    </div>
                    
                    <div class="result-grade">
                        <div id="resultGrade" class="grade-text">–û—Ç–ª–∏—á–Ω–æ!</div>
                        <div id="resultMessage" class="grade-message">–§–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</div>
                    </div>
                </div>
                
                <div id="newAchievements" class="new-achievements" style="display: none;">
                    <h3>üéâ –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è!</h3>
                    <div id="achievementsList" class="achievements-list">
                        <!-- –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
            
            <div class="result-actions-enhanced">
                <button class="action-btn play-again" onclick="showMainMenu()">
                    üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
                </button>
                <button class="action-btn share-result" onclick="shareResult()">
                    üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                </button>
                <button class="action-btn view-profile" onclick="showTab('profile'); showMainMenu();">
                    üë§ –ü—Ä–æ—Ñ–∏–ª—å
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π) -->
        <div id="loadingScreen" class="screen loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h2 id="loadingTitle">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤...</h2>
                <p id="loadingSubtitle">–°–æ–∑–¥–∞–µ–º –¥–ª—è –≤–∞—Å —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</p>
                <div class="loading-tips">
                    <p id="loadingTip">üí° –ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —É–ª—É—á—à–∞—é—Ç –ø–∞–º—è—Ç—å?</p>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
